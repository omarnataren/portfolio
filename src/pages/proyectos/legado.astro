---
import Layout from '@layouts/Layout.astro';
import SideNavbar from '@components/SideNavbar.astro';
import InfoCard from '@components/InfoCard.astro';
import MetaInfo from '@components/MetaInfo.astro';
import PhotoCarrousel from '@components/PhotoCarrousel.astro';
import BackButton from '@components/BackButton.astro';

const project = {
    title: "Legado",
    subtitle: "Conectando viajeros con la raíz cultural.",
    role: "Mobile Developer (Flutter) @ Teteocán Technologies",
    timeline: "2024 - Presente",
    tags: ["Flutter", "Firebase", "Google Maps API", "Clean Architecture"],
    repoLink: "https://github.com/Teteocan/Legado",
    images: [
        "/images/projects/Legado/Legado_img1.png",
        "/images/projects/Legado/Legado_img2.png",
        "/images/projects/Legado/Legado_img3.png",
        "/images/projects/Legado/Legado_img4.png"
    ]
};
---

<Layout title={`${project.title} | Omar Nataren`}>

    <main class="max-w-5xl mx-auto px-6 pt-12 pb-20">
        
        <!-- HEADER DEL PROYECTO -->
        <header class="mb-16 relative">
            <div class="flex flex-col md:flex-row md:items-center xl:block gap-6 mb-4 xl:mb-0">
                <BackButton />
                <h1 class="text-5xl md:text-7xl font-extrabold text-white m-0">
                    {project.title}
                </h1>
            </div>
            <p class="text-2xl text-secondary font-light tracking-wide">
                {project.subtitle}
            </p>
        </header>

        <!-- CARRUSEL DE IMÁGENES -->
        <div class="w-full max-w-7xl mx-auto mb-16" style="transition-delay: 0.2s;">
            <PhotoCarrousel images={project.images} />
        </div>

        <!-- CONTENIDO PRINCIPAL (2 Columnas) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <!-- COLUMNA IZQUIERDA: Storytelling -->
            <div class="lg:col-span-2 space-y-12" style="transition-delay: 0.4s;">
                
                <!-- SECCIÓN 1: LA VISIÓN -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-red-400">01.</span> La Visión
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed">
                        El turismo moderno a menudo roza la superficie. En <strong>Teteocán Technologies</strong>, creamos <em>Legado</em> no solo como una app, sino como un puente digital para conectar a viajeros que buscan autenticidad con anfitriones locales. El objetivo era crear una economía colaborativa segura y centrada en la cultura.
                    </p>
                </section>

                <!-- SECCIÓN 2: ROLES Y ECOSISTEMA -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-red-400">02.</span> Ecosistema de 3 Roles
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed mb-4">
                        Para garantizar la calidad y la seguridad de la plataforma, diseñé una lógica de negocio que orquesta tres perfiles de usuario distintos, cada uno con permisos y flujos específicos:
                    </p>
                    <div class="space-y-4 text-secondary text-lg">
                        <p>
                            <span class="text-white font-bold">1. Anfitrión:</span> Creadores locales que publican experiencias. Tienen acceso a un panel para gestionar sus ofertas y recibir pagos.
                        </p>
                        <p>
                            <span class="text-white font-bold">2. Cliente:</span> Viajeros que exploran el mapa, chatean con anfitriones y realizan reservas seguras.
                        </p>
                        <p>
                            <span class="text-white font-bold">3. Moderador:</span> Un rol administrativo crítico que valida la autenticidad y seguridad de las experiencias antes de que se publiquen en el feed global.
                        </p>
                    </div>
                </section>

                <!-- SECCIÓN 3: ARQUITECTURA Y PAGOS -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-red-400">03.</span> Arquitectura & Monetización
                    </h2>
                    <ul class="space-y-6 mt-6">
                        <!-- Card 1: Stripe -->
                        <InfoCard 
                            title="Pagos Seguros con Stripe"
                            description="Integración completa de la pasarela de pagos Stripe. Implementé el flujo de cobro seguro, gestión de intenciones de pago y confirmación de reservas en tiempo real, cerrando el ciclo comercial dentro de la app sin depender de efectivo."
                            icon="fab fa-stripe"
                            iconColorClass="text-indigo-400"
                            hoverBorderColorClass="hover:border-indigo-500/30"
                        />
                        
                        <!-- Card 2: Clean Architecture -->
                        <InfoCard 
                            title="Clean Architecture"
                            description="Implementé una separación estricta de capas (Domain, Data, Presentation) en Flutter. Esto permite que la lógica compleja de los roles y pagos sea independiente de la UI, facilitando el mantenimiento y la escalabilidad."
                            icon="fas fa-layer-group"
                            iconColorClass="text-red-400"
                            hoverBorderColorClass="hover:border-red-500/30"
                        />
                    </ul>
                </section>

            </div>

            <!-- COLUMNA DERECHA: Meta-información (Sticky) -->
            <MetaInfo 
                role={project.role}
                timeline={project.timeline}
                tags={project.tags}
                repoLink={project.repoLink}
            />

        </div>
        
    </main>
</Layout>