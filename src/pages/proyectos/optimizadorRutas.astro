---
import Layout from '@layouts/Layout.astro';
import SideNavbar from '@components/SideNavbar.astro';
import InfoCard from '@components/InfoCard.astro';
import MetaInfo from '@components/MetaInfo.astro';
import PhotoCarrousel from '@components/PhotoCarrousel.astro';
import BackButton from '@components/BackButton.astro';

const project = {
    title: "Optimizador Logístico",
    subtitle: "Arquitectura Híbrida JavaFX + Web para resolver el problema de la última milla.",
    role: "Full Stack Developer (Java Ecosystem)",
    timeline: "2024",
    tags: ["JavaFX", "OpenStreetMap", "Firebase", "Algorithms", "Hybrid UI"],
    repoLink: "https://github.com/omarnataren/OptimizadorRutas",
    images: [
    ]
};
---

<Layout title={`${project.title} | Omar Nataren`}>

    <main class="max-w-5xl mx-auto px-6 pt-12 pb-20">
        
        <!-- HEADER DEL PROYECTO -->
        <header class="mb-16 relative">
             <div class="flex flex-col md:flex-row md:items-center xl:block gap-6 mb-4 xl:mb-0">
                <BackButton />
                <h1 class="text-5xl md:text-7xl font-extrabold text-white m-0">
                    {project.title}
                </h1>
            </div>
            <p class="text-2xl text-secondary font-light tracking-wide">
                {project.subtitle}
            </p>
        </header>

        <!-- <section class="w-full max-w-7xl mx-auto mb-16" style="transition-delay: 0.2s;">
            <PhotoCarrousel images={project.images} />
        </section> -->

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <!-- COLUMNA IZQUIERDA: Storytelling -->
            <div class="lg:col-span-2 space-y-12" style="transition-delay: 0.4s;">
                
                <!-- SECCIÓN 1: EL DESAFÍO LOGÍSTICO -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-green-400">01.</span> El Desafío Logístico
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed text-justify">
                        La gestión de envíos en pequeñas y medianas empresas suele ser caótica. Asignar paquetes a repartidores y definir rutas manualmente no solo es lento, sino ineficiente. El reto era crear un sistema centralizado que permitiera gestionar flota (CRUD de repartidores) y carga (paquetes), pero que fuera más allá de una simple base de datos: necesitaba inteligencia espacial.
                    </p>
                </section>

                <!-- SECCIÓN 2: ARQUITECTURA HÍBRIDA (EL DIFERENCIADOR) -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-green-400">02.</span> El Puente JavaFX ↔ Web
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed text-justify mb-4">
                        Aquí radica la innovación técnica del proyecto. Java es excelente para lógica de negocio robusta en escritorio, pero las librerías de mapas nativas son limitadas. Decidí implementar una <strong>arquitectura híbrida</strong>.
                    </p>
                    <p class="text-lg text-secondary leading-relaxed text-justify">
                        Utilicé <strong>JavaFX WebView</strong> como un contenedor para ejecutar una interfaz moderna construida con HTML, CSS y JavaScript. Esto me permitió integrar la API de <strong>OpenStreetMap</strong> de forma nativa en la UI. Creé un puente de comunicación bidireccional: Java gestiona los datos pesados y Firebase, mientras inyecta coordenadas en el motor JS para renderizar las rutas en tiempo real.
                    </p>
                </section>

                <!-- SECCIÓN 3: ALGORITMOS Y DATOS -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-green-400">03.</span> Lógica de Enrutamiento
                    </h2>
                    <ul class="space-y-6 mt-6">
                        <InfoCard 
                            title="Cálculo de Ruta Óptima"
                            description="El sistema no solo dibuja líneas. Al seleccionar un repartidor y un set de paquetes, el algoritmo consulta la API de OpenStreetMap para calcular la matriz de distancias y sugerir la ruta más corta (Shortest Path), optimizando tiempos de entrega y combustible."
                            icon="fas fa-route"
                            iconColorClass="text-green-400"
                            hoverBorderColorClass="hover:border-green-500/30"
                        />
                        <InfoCard 
                            title="Firebase Real-time Sync"
                            description="La persistencia de datos se delegó a Firebase. Esto permite que la gestión del CRUD (altas, bajas y edición de repartidores/paquetes) sea instantánea y esté sincronizada, permitiendo escalar a múltiples despachadores operando simultáneamente."
                            icon="fas fa-fire"
                            iconColorClass="text-orange-400"
                            hoverBorderColorClass="hover:border-orange-500/30"
                        />
                    </ul>
                </section>

            </div>

            <!-- COLUMNA DERECHA: Meta-información (Sticky) -->
            <MetaInfo 
                role={project.role}
                timeline={project.timeline}
                tags={project.tags}
                repoLink={project.repoLink}
            />

        </div>
        
        
    </main>

</Layout>