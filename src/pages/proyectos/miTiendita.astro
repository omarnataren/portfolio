---
import Layout from '@layouts/Layout.astro';
import SideNavbar from '@components/SideNavbar.astro';
import InfoCard from '@components/InfoCard.astro';
import MetaInfo from '@components/MetaInfo.astro';
import PhotoCarrousel from '@components/PhotoCarrousel.astro';
import BackButton from '@components/BackButton.astro';

const project = {
    title: "Mi Tiendita POS",
    subtitle: "Sistema de Punto de Venta Enterprise con Arquitectura de Microservicios.",
    role: "Full Stack Developer (Angular/NestJS)",
    timeline: "2024",
    tags: ["Angular", "NestJS", "Supabase", "PostgreSQL", "JWT Auth", "RBAC"],
    repoLink: "https://github.com/omarnataren/mi_tiendita",
    images: [
    ]
};
---

<Layout title={`${project.title} | Omar Nataren`}>


    <main class="max-w-5xl mx-auto px-6 pt-12 pb-20 ">
        
        <!-- HEADER DEL PROYECTO -->
        <header class="mb-16 relative">
             <div class="flex flex-col md:flex-row md:items-center xl:block gap-6 mb-4 xl:mb-0">
                <BackButton />
                <h1 class="text-5xl md:text-7xl font-extrabold text-white m-0">
                    {project.title}
                </h1>
            </div>
            <p class="text-2xl text-secondary font-light tracking-wide">
                {project.subtitle}
            </p>
        </header>

        <!-- IMAGEN HERO (Abstracta de Ecommerce/POS) -->
        <!-- <section class="w-full max-w-7xl mx-auto mb-16" style="transition-delay: 0.2s;">
            <PhotoCarrousel images={project.images} />
        </section> -->

        <!-- CONTENIDO PRINCIPAL (2 Columnas) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <!-- COLUMNA IZQUIERDA: Storytelling -->
            <div class="lg:col-span-2 space-y-12" style="transition-delay: 0.4s;">
                
                <!-- SECCIÓN 1: EL CONTEXTO (Enterprise Architecture) -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-purple-400">01.</span> Más que un CRUD
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed text-justify">
                        Muchas tiendas locales operan con cuadernos o Excel, limitando su crecimiento. Mi objetivo era crear un sistema <strong>Punto de Venta (POS)</strong> que rivalizara con el software de cadenas como OXXO, pero accesible.
                    </p>
                    <p class="text-lg text-secondary leading-relaxed text-justify mt-4">
                        No se trataba solo de registrar ventas, sino de construir una infraestructura robusta. Implementé una arquitectura desacoplada utilizando <strong>Angular</strong> para una interfaz reactiva y rápida, y <strong>NestJS</strong> para un backend escalable y tipado, garantizando que el sistema pudiera manejar inventarios complejos y múltiples transacciones simultáneas.
                    </p>
                </section>

                <!-- SECCIÓN 2: SEGURIDAD Y ROLES (RBAC) -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-purple-400">02.</span> Seguridad Granular (RBAC)
                    </h2>
                    <p class="text-lg text-secondary leading-relaxed text-justify mb-4">
                        En un entorno retail, la seguridad es crítica. Diseñé un sistema de autenticación con <strong>JWT (JSON Web Tokens)</strong> y un estricto Control de Acceso Basado en Roles (RBAC).
                    </p>
                    <ul class="list-disc list-inside text-secondary space-y-2 ml-4">
                        <li><strong>Vendedor:</strong> Solo puede escanear productos y generar ventas. Interfaz simplificada para velocidad.</li>
                        <li><strong>Encargado de Paquetería:</strong> Acceso exclusivo al módulo de inventarios y recepción de mercancía.</li>
                        <li><strong>Admin (Encargado):</strong> Visión total del dashboard, métricas de ventas y gestión de usuarios.</li>
                    </ul>
                </section>

                <!-- SECCIÓN 3: EXPERIENCIA "HARDWARE READY" -->
                <section>
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
                        <span class="text-purple-400">03.</span> Simulación de Hardware
                    </h2>
                    <ul class="space-y-6 mt-6">
                        <InfoCard 
                            title="Generación de Tickets"
                            description="El sistema completa el ciclo de venta generando un ticket digital formateado profesionalmente. La interfaz está optimizada para entrada rápida de datos, pensada para conectarse plug-and-play con escáneres de códigos de barras e impresoras térmicas."
                            icon="fas fa-receipt"
                            iconColorClass="text-purple-400"
                            hoverBorderColorClass="hover:border-purple-500/30"
                        />
                        <InfoCard 
                            title="Integridad de Datos (PostgreSQL)"
                            description="Usando Supabase (PostgreSQL), aseguré la integridad referencial de los datos. A diferencia de soluciones NoSQL rápidas, aquí cada transacción es ACID, garantizando que el inventario siempre cuadre con las ventas reportadas, vital para la contabilidad real."
                            icon="fas fa-database"
                            iconColorClass="text-blue-400"
                            hoverBorderColorClass="hover:border-blue-500/30"
                        />
                    </ul>
                </section>

            </div>

            <!-- COLUMNA DERECHA: Meta-información (Sticky) -->
            <MetaInfo 
                role={project.role}
                timeline={project.timeline}
                tags={project.tags}
                repoLink={project.repoLink}
            />

        </div>
        
        
    </main>

</Layout>